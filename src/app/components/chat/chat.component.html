<div class="chat-page">

  <!-- SIDE MENU -->
  <aside class="side-menu">
    <h3 class="menu-title">MENU</h3>

    <button class="menu-item" routerLink="/profile">ğŸ  Dashboard</button>
    <button class="menu-item" routerLink="/calendar">ğŸ“… Calendar</button>
    <button class="menu-item active">ğŸ‘¥ Chat</button>

    <button class="menu-item back-btn" (click)="goBack()">â¬… Back</button>
  </aside>

  <!-- CONTACT LIST -->
  <div class="chat-list">
    <h2>Chats</h2>

    <div
      class="contact"
      *ngFor="let c of contacts"
      (click)="openChat(c)">

      <img [src]="getImage(c.gender)" />

      <div class="info">
        <strong>{{ c.full_name }}</strong>
        <small>&#64;{{ c.username }}</small>
      </div>

      <button class="chat-btn">Chat</button>
    </div>
  </div>

  <!-- CHAT WINDOW -->
  <div class="chat-window" *ngIf="selectedUser">

    <div class="chat-header">
      <img [src]="getImage(selectedUser.gender)" />
      <div>
        <strong>{{ selectedUser.full_name }}</strong>
        <small>&#64;{{ selectedUser.username }}</small>
      </div>
    </div>

    <div class="messages">
      <div
        class="msg"
        *ngFor="let m of messages"
        [class.me]="m.sender === user.username">
        {{ m.message }}
      </div>
    </div>

    <div class="input-box">
      <input
        [(ngModel)]="messageText"
        placeholder="Type a message..."
        (keyup.enter)="sendMessage()" />
      <button (click)="sendMessage()">Send</button>
    </div>

  </div>

</div>
