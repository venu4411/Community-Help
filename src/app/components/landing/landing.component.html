<!-- ================= NAVBAR ================= -->
<nav class="top-nav" [class.shrink]="isScrolled">
  <div class="nav-container">

    <!-- LOGO -->
    <div class="nav-logo">
      <img
        src="https://img.freepik.com/premium-photo/bold-minimalist-outline-logo-with-strong-visual-impact_1114736-13254.jpg"
        alt="Community Help Logo"
        class="logo-circle"
      />
      <span class="logo-text">Community Help</span>
    </div>

    <!-- LINKS -->
    <ul class="nav-links d-none d-lg-flex">
      <li><a href="#benefits">Benefits</a></li>
    </ul>

    <!-- BEFORE LOGIN -->
    <button
      *ngIf="!authService.isLoggedIn() && !authService.isAdminLoggedIn()"
      class="helper-login-btn"
      routerLink="/helper-login">
      Helper Login
    </button>

    <button
      *ngIf="!authService.isLoggedIn() && !authService.isAdminLoggedIn()"
      class="btn btn-outline-light"
      routerLink="/login">
      Login
    </button>

    <!-- AFTER LOGIN -->
    <button
      *ngIf="authService.isLoggedIn() || authService.isAdminLoggedIn()"
      class="btn btn-outline-light"
      (click)="goToProfile()">
      Profile
    </button>

    <button
      *ngIf="authService.isLoggedIn() || authService.isAdminLoggedIn()"
      class="btn btn-outline-danger"
      (click)="logout()">
      Logout
    </button>

    <!-- MOBILE MENU ICON -->
    <button class="hamburger d-lg-none" (click)="toggleMobileMenu()">‚ò∞</button>
  </div>

  <!-- ================= MOBILE DRAWER ================= -->
  <div class="mobile-drawer" [class.open]="mobileMenuOpen">

    <a href="#benefits" (click)="toggleMobileMenu()">Benefits</a>

    <!-- BEFORE LOGIN -->
    <a
      *ngIf="!authService.isLoggedIn() && !authService.isAdminLoggedIn()"
      routerLink="/helper-login"
      class="btn btn-success mt-3">
      Helper Login
    </a>

    <a
      *ngIf="!authService.isLoggedIn() && !authService.isAdminLoggedIn()"
      routerLink="/login"
      class="btn btn-outline-light mt-2">
      Login
    </a>

    <!-- AFTER LOGIN -->
    <button
      *ngIf="authService.isLoggedIn() || authService.isAdminLoggedIn()"
      class="btn btn-outline-light mt-3"
      (click)="goToProfile()">
      Profile
    </button>

    <button
      *ngIf="authService.isLoggedIn() || authService.isAdminLoggedIn()"
      class="btn btn-outline-danger mt-2"
      (click)="logout()">
      Logout
    </button>
  </div>
</nav>

<!-- ================= HERO ================= -->
<section class="hero text-center text-white">
  <div class="container">

    <h1 class="fw-bold display-5 mb-3">
      Welcome to Community Help
    </h1>

    <!-- NOT LOGGED IN -->
    <ng-container
      *ngIf="!authService.isLoggedIn() && !authService.isAdminLoggedIn();
             else loggedInView">

      <p class="lead mb-4">
        Connect with neighbors and helpers around you
      </p>

      <button class="btn btn-success m-2" routerLink="/register">
        Get Started
      </button>

      <button class="btn btn-outline-light m-2" routerLink="/helper-registration">
        Join as Helper
      </button>

    </ng-container>

    <!-- LOGGED IN -->
    <ng-template #loggedInView>
      <p class="lead mb-4">
        We‚Äôre glad to have you back üëã
      </p>
    </ng-template>

  </div>

  <!-- BOOK FOR HELP (USER / HELPER ONLY) -->
  <div
    class="book-help-wrapper"
    *ngIf="authService.isLoggedIn() && !authService.isAdminLoggedIn()">
    <button class="book-help-btn" (click)="goToBookHelp()">
      Book for Help
    </button>
  </div>
</section>

<!-- ================= BENEFITS ================= -->
<section id="benefits" class="benefits reveal">
  <div class="container">
    <h2 class="text-center mb-5">Why People Love It</h2>

    <div class="row g-4">
      <div class="col-md-4" *ngFor="let b of benefits">
        <div class="benefit-card">
          <h5>{{ b }}</h5>
          <p>Designed to make helping simple and reliable.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ================= POPULAR HELPERS ================= -->
<section class="helpers-section reveal">
  <div class="container text-center">
    <p class="section-tag">POPULAR HELPERS</p>
    <h2 class="section-title">People who make the community stronger</h2>

    <div class="row justify-content-center g-4 mt-4">
      <div class="col-md-4" *ngFor="let helper of popularHelpers">
        <div class="helper-card">
          <div class="helper-img-wrapper">
            <img [src]="helper.image" class="helper-img">
          </div>
          <h5 class="helper-name">{{ helper.name }}</h5>
          <p class="helper-role">{{ helper.role }}</p>
          <div class="helper-rating">‚≠ê {{ helper.rating }}</div>
        </div>
      </div>
    </div>
  </div>
</section>

<footer class="footer text-center">
  ¬© 2025 Neighborhood Community Help Portal
</footer>
